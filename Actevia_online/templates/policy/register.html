{% extends 'policy/base.html' %}
{% block policy %}


 <div class="mdc-layout-grid__cell stretch-card mdc-layout-grid__cell--span-12">
    <br><br><br>
  <div class="mdc-card">
    <div class="mdc-card" style="background-color: #7a00ff;" >
      <h1 class="card-title mb-0" style=" color:white; text-align: center; font-weight: bold;">Add Register User</h1>
      <br>
      {% if error_message %}
      {% if 'Username' in error_message %}
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
          Custom user with this Username already exists.
          <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
      {% endif %}
      
      {% if 'Email' in error_message %}
        <div class="alert alert-danger alert-dismissible fade show" role="alert">
          Custom user with this Email already exists.
          <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
      {% endif %}
    {% endif %}
    </div>
    <div class="card-body">
        <form method="post" class="needs-validation" novalidate>
            {% csrf_token %}
            <div class="form-group">
                <label for="{{ form.username.id_for_label }}">Username</label>
                {{ form.username }}
                <div class="invalid-feedback">
                    Please choose a username.
                </div>
            </div>
            <div class="form-group">
                <label for="{{ form.email.id_for_label }}">Email</label>
                {{ form.email }}
                <div class="invalid-feedback">
                    Please provide a valid email address.
                </div>
            </div>
            <div class="form-group">
                <label for="{{ form.app_name.id_for_label }}">App Name</label>
                {{ form.app_name }}
            </div>
            <div class="form-check">
                {{ form.is_active }}
                <label class="form-check-label" for="{{ form.is_active.id_for_label }}">Active</label>
            </div>
            <div class="form-check">
                {{ form.is_staff }}
                <label class="form-check-label" for="{{ form.is_staff.id_for_label }}">User</label>
            </div>

            <div class="form-check">
                {{ form.generate_password }}
                <label class="form-check-label" for="{{ form.generate_password.id_for_label }}">Generate Password</label>
            </div>
            <br>

            <button type="submit" class="btn btn-primary" style="background-color: #7a00ff;">Register</button>
        </form>
    </div>
  </div>
  <br><br>
  </div>

  {% if email_exists %}
        <div class="alert alert-danger alert-dismissible fade show" role="alert" id="emailExistsAlert">
            The email address you entered already exists. Please choose another email address or log in with your existing account.
        </div>
    {% endif %}



{% endblock policy %}
